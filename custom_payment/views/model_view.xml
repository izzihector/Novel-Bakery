<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

          <record model="ir.ui.view" id="view_account_payment_form_inherit_sit">
            <field name="name">account.payment inherit</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='communication']" position="after">
                    <field name="analytical_account" string="Analytical Account"/>
                    <field name="analytical_tag" string="Analytical Tag" widget="many2many_tags"/>
                    <field name="bank_fees_id" invisible="1"/>
					<field name="have_bank_fees" invisible="1"/>
                </xpath>
                 <xpath expr="//div[@name='button_box']" position="inside">
                    <button class="oe_stat_button" name="button_bank_entries" string="Bank Fee Entries" attrs="{'invisible':['|',('bank_fees_id','=',False),('have_bank_fees','=','nf')]}" type="object" icon="fa-bars"/>
                </xpath>
            </field>
        </record>

         <record model="ir.ui.view" id="view_account_payment_form_inherit">
            <field name="name">account.payment inherit</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="payment.view_account_payment_form_inherit_payment"/>
            <field name="arch" type="xml">
                 <xpath expr="//header" position="inside">
                        <button name="create_bank_je" class="oe_highlight" attrs="{'invisible':['|',('has_bank_payment','=',False),('have_bank_fees','=','nf')]}" string="Post Bank Fees" type="object"/>
                </xpath>
                <xpath expr="//field[@name='payment_transaction_id']" position="after">
                    <field name="have_bank_fees" string="Bank Fees" attrs="{'invisible':[('partner_type','=','customer')]}"/>
                    <field name="has_bank_payment" invisible="1" />
                    <field name="bank_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="bank_fees_account" string="Fees Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees_account" string="VAT Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                </xpath>
            </field>
        </record>

         <record model="ir.ui.view" id="view_account_payment_form_inherit_ga">
            <field name="name">account.payment inherit.1</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_invoice_form"/>
            <field name="arch" type="xml">
                 <xpath expr="//field[@name='communication']" position="after">
                    <field name="analytical_account" string="Analytical Account"/>
                    <field name="analytical_tag" string="Analytical Tag" widget="many2many_tags"/>
                </xpath>
                <xpath expr="//field[@name='journal_id']" position="after">
                    <field name="have_bank_fees" string="Bank Fees" />
                    <field name="bank_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="bank_fees_account" string="Fees Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees_account" string="VAT Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                </xpath>
            </field>
        </record>

              <record id="product_move_view_inherit_sit" model="ir.ui.view">
        <field name="name">product.move.view.inherit</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_move_line_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='lot_id']" position="after">
                <field name="partner_name" string="Partner" />
                <field name="ref" string="Source Document" />
            </xpath>
        </field>
    </record>
          <record id="product_move_view_tree_inherit_sit" model="ir.ui.view">
        <field name="name">product.move.view.inherit.1</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_move_line_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_id']" position="after">
                <field name="partner_name" string="Partner" />
                <field name="ref" string="Source Document" />
            </xpath>
        </field>
    </record>

        <!--Expense form wizard-->

        <record id="expense_payment_wizard_view_sit" model="ir.ui.view">
        <field name="name">expense.wizard.register.view.1</field>
        <field name="model">hr.expense.sheet.register.payment.wizard</field>
        <field name="inherit_id" ref="hr_expense.hr_expense_sheet_register_payment_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='communication']" position="after">
            <field name="have_bank_fees" string="Bank Fees" />
                    <field name="bank_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="bank_fees_account" string="Fees Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees_account" string="VAT Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
            </xpath>
        </field>
    </record>

        <!--Expense form-->

        <record id="expense_form_inherit_view_sit_one" model="ir.ui.view">
        <field name="name">expense.form.inherit.view.1</field>
        <field name="model">hr.expense</field>
        <field name="inherit_id" ref="hr_expense.hr_expense_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='tax_ids']" position="after">
            <field name="have_bank_fees" string="Bank Fees" required="1"/>
                    <field name="bank_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="bank_fees_account" string="Fees Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
                    <field name="vat_fees_account" string="VAT Account" attrs="{'invisible':[('have_bank_fees','=','nf')],'required':[('have_bank_fees','=','wf')]}"/>
            </xpath>
        </field>
        </record>


        <record id="expense_sheet_form_inherit_view_sit_one" model="ir.ui.view">
        <field name="name">expense.sheet.form.inherit.view.1</field>
        <field name="model">hr.expense.sheet</field>
        <field name="inherit_id" ref="hr_expense.view_hr_expense_sheet_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[1]" position="inside">
                    <button class="oe_stat_button" name="button_journal_entries" string="Journal Entry" type="object" icon="fa-bars" attrs="{'invisible':[('have_je','=',False)]}"/>
                </xpath>
         <!--   <xpath expr="//button[4]" position="after">
                <button name="create_expense_bank_je" class="oe_highlight" type="object" string="Post Bank Entry" attrs="{'invisible':[('is_post_bank','=',False)]}" groups="account.group_account_manager"/>
            </xpath>-->
            <xpath expr="//button[4]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='company_id']" position="after">
                <field name="is_post_bank" invisible="1" />
                <field name="have_je" invisible="1" />
                <field name="bank_fees" invisible="1"/>
                <field name="vat_fees" invisible="1"/>
                <field name="bank_fees_account" invisible="1"/>
                <field name="vat_fees_account" invisible="1"/>
                <field name="have_bank_fees" invisible="1"/>

            </xpath>
            <xpath expr="//button[3]" position="after">
                <button name="%(hr_expense.hr_expense_sheet_register_payment_wizard_action)d" type="action" string="Register Payment" class="oe_highlight o_expense_sheet_pay" attrs="{'invisible': [('state', '!=', 'post')]}"
                        context="{'default_amount': total_amount, 'partner_id': address_id, 'default_bank_fees': bank_fees,
                                  'default_vat_fees': vat_fees, 'default_bank_fees_account': bank_fees_account, 'default_vat_fees_account': vat_fees_account}"
                                    groups="account.group_account_manager"/>
            </xpath>
            <xpath expr="//field[@name='account_move_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
             </record>
    </data>
</odoo>